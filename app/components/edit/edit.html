<div ng-include src="'layout/header.html'"></div>

<div class="sca-container">

  <!-- Control panel appears when elements are hidden -->
  <div style="position:absolute; top:0px; bottom:0px; background-color: grey; width: 50px">


    <!-- Sidebar toggle: always enabled -->
    <button type="button" class="btn btn-default widget-toolbar blue" title="Toggle Sidebar"
            style="width: 50px; height: 50px; margin: 0; padding: 0;"
            ng-click="toggleSidebar()"><span
      class="md md-chevron-right"></span></button>

    <!-- Edit/Classify View toggle:  always enabled -->
    <button type="button" class="btn btn-default widget-toolbar blue" title="Toggle Model/Classify View"
            style="width: 50px; height: 50px; margin: 0; padding: 0;"
            ng-click="toggleClassification()"
    "><span
    class="md md-view-agenda"></span></button>


    <!-- Model toggle:  Enabled only if classification is hidden -->
    <button type="button" class="btn btn-default widget-toolbar blue" title="Toggle Model Diagrams"
            style="width: 50px; height: 50px; margin: 0; padding: 0;"
            ng-click="toggleModel()" ng-show="hideClassification"><span
      class="md md-now-widgets"></span></button>
  </div>

  <!-- Main page content -->
  <div class="row no-gutter" style="padding-left: 50px;">

    <!-- Sidebar -->
    <div ng-show="!hideSidebar" class="editpanel sca-column col-lg-3 col-md-3 col-sm-3"
         ng-include src="'layout/sidebar-edit.html'"></div>

    <!-- Classify View -->
    <div ng-show="!hideClassification"
         ng-class="['col-sm-12','col-md-12', {'col-lg-5' : !hideSidebar}, {'col-lg-8' : hideSidebar}]">
      <div classification classification-id="classification.id" task-key="taskKey" projectKey="projectKey"
           branch="branch"></div>
    </div>

    <!-- Model View:  always hidden during classification view -->
    <div ng-show="!hideModel && hideClassification"
         ng-class="['col-sm-12','col-md-12', {'col-lg-5' : !hideSidebar}, {'col-lg-8' : hideSidebar}]"
         class="editing-form" style="margin-right:0px;">

      <!-- header -->
      <div class="editing-form " style="margin-right:0px; height:43px;">
        <button type="button" ng-click="toggleModel()" class="btn btn-default col-md-12" style="text-transform: none"
                title="Active"><i
          class="md md-close"></i>
          Model
        </button>
      </div>

      <!-- models -->
      <div ng-repeat="concept in concepts" class="clearfix" style="">
        <div draw-model concept="concept" id="drawModel{{concept.conceptId}}"></div>
      </div>
    </div>

    <!-- Edit Panel -->
    <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">

      <!-- create new concept header -->
      <div
        class="editing-form grey darken-3" style="margin-right:0px;">
        <button type="button" ng-click="createConcept()" class="btn-default btn-block create-new-concept"
                title="Active"><i
          class="md md-add-circle pull-right"></i> Create New Concept
        </button>
      </div>

      <!-- concepts -->
      <div ng-repeat="concept in concepts" concept-edit ctrl-fn="showModel(arg, arg2)" concept="concept"
           editList="editPanelUiState" branch="branch"
           id="editPanel-{{concept.conceptId}}">
      </div>
    </div>
    <!--
      &lt;!&ndash; standard edit view &ndash;&gt;
      <div ng-if="!classifyMode">

        <div ng-show="!hideSidebar" class="editpanel sca-column col-lg-3 col-md-3 col-sm-3"
             ng-include src="'layout/sidebar-edit.html'"></div>

        <div ng-class="[{'col-9' : !hideSidebar}, {'col-11' : hideSidebar}]"
             style="height:100%; overflow-y:scroll; padding: 0px; margin: 0px;">

          &lt;!&ndash; headers &ndash;&gt;
          <div class="row no-gutter">

            &lt;!&ndash; model header &ndash;&gt;
            &lt;!&ndash; TODO:  Figure out what the heck to do with Create New Concept button on collapse &ndash;&gt;
            <div ng-show="!hideModel"
                 ng-class="['col-sm-12', 'model-header', 'col-md-12', {'col-lg-6' : !hideSidebar}, {'col-lg-8' : hideSidebar}]"
                 class="editing-form" style="margin-right:0px;">
              <button type="button" class="btn btn-default blue md md-chevron-left"
                      ng-click="toggleSidebar()" style="margin-right:10px;" ng-show="hideSidebar"></button>
              <button type="button" ng-click="toggleModel()" class="btn btn-default col-md-12" style="text-transform: none"
                      title="Active"><i
                ng-class="[md, 'md-add-circle', 'pull-left', {'md-keyboard-arrow-right' : hideModel, 'md-close' : !hideModel}]"></i>
                Model
              </button>
            </div>


            &lt;!&ndash; edit panel header &ndash;&gt;
            &lt;!&ndash; TODO:  Figure out what the heck to do with Create New Concept button on model collapse &ndash;&gt;
            <div ng-class="['col-sm-12', 'col-md-12',
               {'col-lg-6' : !hideSidebar && !hideModel},
               {'col-lg-4': hideSidebar && !hideModel},
               {'col-lg-12' : hideModel}]">

              &lt;!&ndash; displayed after load &ndash;&gt;
              <div
                class="editing-form grey darken-3" style="margin-right:0px;">
                <button type="button" ng-click="createConcept()" class="btn-default btn-block create-new-concept"
                        title="Active"><i
                  class="md md-add-circle pull-right"></i> Create New Concept
                </button>
              </div>
            </div>
          </div>


          &lt;!&ndash; Concept model/edit pairs &ndash;&gt;
          <div ng-repeat="concept in concepts" ng-if="concepts.length != 0" class="row no-gutter">
            <div ng-show="!hideModel"
                 ng-class="['col-sm-12', 'col-md-12',
               {'col-lg-6' : !hideSidebar && !hideEditPanel},
               {'col-lg-8': hideSidebar && !hideEditPanel},
               {'col-lg-12' : hideEditPanel}]"
                 style="background:#F9F9F9; margin:0px; padding:0px;">
              <div class="clearfix" style="">
                &lt;!&ndash;ng-if="conceptLoaded" &ndash;&gt;
                <div draw-model concept="concept" id="drawModel{{concept.conceptId}}"></div>
              </div>
            </div>
            <div ng-class="['col-sm-12', 'col-md-12',
               {'col-lg-6' : !hideSidebar && !hideModel},
               {'col-lg-4': hideSidebar && !hideModel},
               {'col-lg-12' : hideModel}]"
                 class="editing-form grey darken-3" style="height:100%">
              <div concept-edit ctrl-fn="showModel(arg, arg2)" concept="concept" editList="editPanelUiState" branch="branch"
                   id="editPanel-{{concept.conceptId}}">
              </div>
            </div>
          </div>
        </div>
        &lt;!&ndash; end edit view &ndash;&gt;
      </div>

      &lt;!&ndash; Classify view &ndash;&gt;
      <div class="row no-gutter" ng-if="classifyMode">
        &lt;!&ndash; Classification results &ndash;&gt;
        <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
          <div classification classification-id="classification.id" task-key="taskKey" projectKey="projectKey" branch="branch"></div>
        </div>

        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
          <div ng-repeat="concept in concepts" concept-edit ctrl-fn="showModel(arg, arg2)" concept="concept"
               editList="editPanelUiState" branch="branch"
               id="classifyEditPanel-{{concept.conceptId}}">

          </div>
        </div>

      </div>-->
  </div>
</div>