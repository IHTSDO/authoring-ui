<div ng-include src="'layout/header.html'"></div>

<!-- Hide container until view is selected -->
<div class="sca-container" ng-if="thisView">

  <!-- Control panel appears when elements are hidden -->
  <div style="position:absolute; top:0px; bottom:0px; background-color: grey; width: 50px">

    <!-- edit view controls -->
    <div ng-show="hideClassification">

      <!-- Switch to Classify View -->
      <button type="button" class="btn btn-default widget-toolbar green darken-1" title="Switch to Classify View"
              style="width: 50px; height: 50px; margin: 0; padding: 0;"
              ng-click="setView('classification')"><span
        class="md md-notifications"></span></button>

      <!-- Edit View: Default -->
      <button type="button" ng-class="{'lighten-2' : thisView === 'edit-default'}" class="btn btn-default widget-toolbar light-blue" title="Restore Default View"
              style="width: 50px; height: 50px; margin: 0; padding: 0;"
              ng-click="setView('edit-default')" ng-show="hideClassification"><span
        class="md md-dashboard"></span></button>

      <!-- Edit View:  No sidebar -->
      <button type="button" ng-class="{'lighten-2' : thisView === 'edit-no-sidebar'}" class="btn btn-default widget-toolbar light-blue darken-2" title="Hide Sidebar"
              style="width: 50px; height: 50px; margin: 0; padding: 0;"
              ng-click="setView('edit-no-sidebar')" ng-show="hideClassification"><span
        class="md md-assignment-return "></span></button>

      <!-- Edit View: No model -->
      <button type="button" ng-class="{'lighten-2' : thisView === 'edit-no-model'}" class="btn btn-default widget-toolbar blue darken-1" title="Hide Model"
              style="width: 50px; height: 50px; margin: 0; padding: 0;"
              ng-click="setView('edit-no-model')" ng-show="hideClassification"><span
        class="md md-now-widgets"></span></button>
    </div>

    <div ng-show="!hideClassification">
      <!-- Switch to Edit View (note, use last state) -->
      <button type="button" class="btn btn-default widget-toolbar blue" title="Switch to Edit View"
              style="width: 50px; height: 50px; margin: 0; padding: 0;"
              ng-click="setView('edit')"><span
        class="md md-edit"></span></button>

    </div>

  </div>

  <!-- Main page content -->
  <div class="row no-gutter" style="padding-left: 50px;">

    <!-- Sidebar: always hidden during classification view -->
    <div ng-show="!hideSidebar" class="editpanel sca-column col-lg-3 col-md-3 col-sm-3"
         ng-include src="'layout/sidebar-edit.html'"></div>

    <!-- Classify View -->
    <div ng-show="!hideClassification"
         ng-class="['col-sm-12','col-md-12', {'col-lg-5' : !hideSidebar}, {'col-lg-8' : hideSidebar}]">
      <div classification classification-id="classification.id" task-key="taskKey" projectKey="projectKey"
           branch="branch"></div>
    </div>

    <!-- Model View:  always hidden during classification view -->
    <div ng-show="!hideModel"
         ng-class="['col-sm-12','col-md-12', {'col-lg-5' : !hideSidebar}, {'col-lg-8' : hideSidebar}]"
         class="" style="margin-right:0px;">

      <!-- model header -->
      <div class="editing-form " style="margin-right:0px; height:43px;">
        <button type="button" ng-click="toggleModel()" class="btn btn-default col-md-12" style="text-transform: none"
                title="Active">
          Model
        </button>
      </div>

      <!-- models -->
      <div ng-repeat="concept in concepts">
        <div draw-model concept="concept" id="drawModel{{concept.conceptId}}"></div>
      </div>
    </div>

    <!-- Edit Panel  col-md-4 col-lg-4-->
    <div class="col-xs-12 col-sm-12" ng-class="[
      {'col-md-9': thisView === 'edit-no-model'},
      {'col-lg-9': thisView === 'edit-no-model'},
      {'col-md-4': thisView != 'edit-no-model'},
      {'col-lg-4': thisView != 'edit-no-model'}]">

      <!-- create new concept header -->
      <div
        class="editing-form grey darken-3" style="margin-right:0px;">
        <button type="button" ng-click="createConcept()" class="btn-default btn-block create-new-concept"
                title="Active"><i
          class="md md-add-circle pull-right"></i> Create New Concept
        </button>
      </div>
<!-- begin validation error -->
<div class="alert alert-dismissible alert-danger validation">
          <button type="button" class="close" data-dismiss="alert">Ã—</button>
          <h4>Validation Error!</h4>
          <strong>Main message</strong> maybe some help text to follow.
        </div>
<!-- begin validation error -->
      <!-- concepts -->
      <div ng-repeat="concept in concepts" concept-edit ctrl-fn="showModel(arg, arg2)" concept="concept"
           editList="editPanelUiState" branch="branch"
           id="editPanel-{{concept.conceptId}}">
      </div>
    </div>

  </div>
</div>