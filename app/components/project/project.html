<div class="row no-gutter sca-container">
  <div ng-include style="background-color:#474747" class="sca-column col-lg-3 col-md-3 col-sm-3 dashboard-sidebar"
       src="'layout/sidebar.html'"></div>

  <div class="sca-column col-lg-9 col-md-9 col-sm-9 pull-right ">
    <div class="page-header row ">
      <div class="page-header col-md-3 p-t-15">
        <h1>

          {{project.title}}
        </h1>

        <p class="lead">
          {{project.projectLead.displayName}}
        </p>
      </div>
      <div class="page-header col-md-9 p-t-10 project-main-buttons">

        <div class="p-10 pull-right">
          <button class="btn btn-border"
                  ng-click="promote()"
                  ng-disabled="project.branchState !== 'FORWARD'"><span
            class="project-icon blue darken-1 pull-left"><span class="md md-call-merge"></span></span>Promote
            <div class="ripple-wrapper"></div>
          </button>
        </div>
        <div class="p-10 pull-right">
          <button class="btn btn-success btn-border"
                  ng-click="rebase()"
                  ng-disabled="project.branchState !== 'DIVERGED' && project.branchState !== 'BEHIND'">
            <span
              class="project-icon yellow darken-2 pull-left"><span class="md md-autorenew"></span></span>Rebase
            <div class="ripple-wrapper"></div>
          </button>
        </div>
        <div class="p-10 pull-right">
          <button class="btn btn-success btn-border" ng-click="classify()"><span
            class="project-icon green pull-left"><span class="md md-notifications"></span></span>Classify
            <div class="ripple-wrapper"></div>
          </button>
        </div>
        <div class="p-10 pull-right">
          <button class="btn btn-success btn-border" ng-click="validate()"><span
            class="project-icon deep-purple lighten-1 pull-left"><span class="md md-school"></span></span>Validate
            <div class="ripple-wrapper"></div>
          </button>
        </div>
      </div>

    </div>
    <div class="row project-page">

      <!--- Validation Results -->
      <div class="card">

        <div class="card-header">
          <div class="card-title">
            <button ng-disabled="!project.validationStatus || project.validationStatus != 'COMPLETED' "
                    ng-init="validationCollapsed = false"
                    ng-click="validationCollapsed = !validationCollapsed"
                    type="button"
                    ng-class="[btn, btn-default, darkbuttons, grey, 'darken-4', 'project-buttons', md, {'md-keyboard-arrow-down' : validationCollapsed, 'md-keyboard-arrow-right' : !validationCollapsed}]">
              <span ng-class="{'report-text' : project.validationStatus && project.validationStatus === 'COMPLETED'}">Validation Results</span>
            </button>

            <span class="project-icon deep-purple lighten-1 pull-right"><span class="md md-school"></span></span>
            <span class="arrow-purple pull-right"></span>

            <div class="clearfix"></div>
          </div>
        </div>
        <div ng-show="validationCollapsed === true">
          <!-- TODO ng-if here because the damn two-way binding IS NOT WORKING -->
          <div class="card-content clearfix">
            <div validation validation-container="validationContainer" branch="branch"
                 editable="false" show-title="false"></div>
          </div>
        </div>
      </div>


      <!-- Classification Results -->
      <div class="card ">
        <div class="card-header">
          <div class="card-title">
            <button ng-disabled="!project.latestClassificationJson || project.latestClassificationJson.status !== 'COMPLETED'"
                    ng-init="classificationCollapsed = true"
                    ng-click="classificationCollapsed = !classificationCollapsed" type="button"
                    ng-class="[btn, btn-default, darkbuttons, grey, 'darken-4', 'project-buttons', md, {'md-keyboard-arrow-right' : classificationCollapsed, 'md-keyboard-arrow-down' : !classificationCollapsed}]">
              <span
                ng-class="{'report-text' : project.latestClassificationJson.status === 'COMPLETED'}">Classification Results</span>
            </button>
            <span class="project-icon green pull-right"><span class="md md-notifications"></span></span>
            <span class="arrow-green pull-right"></span>

            <div class="clearfix"></div>

          </div>
        </div>


        <div ng-show="classificationCollapsed === false">
          <div class="card-content clearfix">
            <div classification classification-container="classificationContainer" branch="branch"
                 editable="false"></div>
          </div>

        </div>

      </div>

      <!-- Conflict Report Results -->
      <div class="card ">
        <div class="card-header">
          <div class="card-title">
              <button ng-disabled="!project.status === 'DIVERGED'"
                      ng-init="conflictsCollapsed = true"
                      ng-click="gotoConflictsView()" type="button"
                      ng-class="[btn, btn-default, darkbuttons, grey, 'darken-4', 'project-buttons', md, {'md-keyboard-arrow-right' : conflictsCollapsed, 'md-keyboard-arrow-down' : !conflictsCollapsed}]">
                <span ng-class="{'report-text' : project.status === 'DIVERGED'}">Conflicts Results</span></button>

            <span class="project-icon red pull-right"><span class="md md-warning"></span></span>
            <span class="arrow-green pull-right"></span>

            <div class="clearfix"></div>

          </div>
        </div>

      </div>

    </div>
  </div>
</div>

