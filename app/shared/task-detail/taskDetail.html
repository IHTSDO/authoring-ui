<div id="task-detail"  class="sidebar-grey" ng-controller="taskDetailCtrl">

  <!-- Timeline formatter and concept ids.extension input -->
  <div class="row">

    <div class="col col-md-12 sidebar-grey">

      <ul class="timeline">
        <li>
          <div class="timeline-badge">
            <i class="icon-circle theme-border"></i>
          </div>
          <div class="timeline-panel">
            <div class="timeline-heading">
              <label class="control-label">Task Title:</label>
              <h4 class="timeline-title">{{task.summary}}</h4>
            </div>
          </div>
        </li>

        <li>
          <div class="timeline-badge">
            <i class="icon-circle theme-border"></i>
          </div>
          <div class="timeline-panel">
            <div class="timeline-heading">
              <label class="control-label">Task Details:</label>
              <h4 compile-html="task.description" class="timeline-title"></h4>
            </div>


          </div>


        </li>

        <li>
          <div class="timeline-badge">
            <i class="icon-circle theme-border"></i>
          </div>
          <div class="timeline-panel">
            <div class="timeline-heading">
              <h4 class="timeline-title">
                <button class="btn btn-default blue validate"
                        ng-click="updateTask()" style="text-transform: none"
                        ng-disabled="task.status === 'Promoted'">
                  <span class="button-link">Edit Task</span>
                </button>
              </h4>
            </div>

          </div>


        </li>
      </ul>
    </div>


  </div>

  <hr>


  <hr style="width:93%; border-color:#ddd">


  <div class="task-details p-b-20">

    <div class="p-l-15 p-r-15" ng-if="role === 'UNDEFINED'">
      <div
        class="alert alert-danger text-center">
        <div class="row no-padding">
       <p class="md md-warning  "> </p>
       </div>
       <div class="row no-padding alert-text">
        <p>Warning! You are not the author or reviewer for this task.</p>
      </div>
      </div>
    </div>
    <div class="p-l-15 p-r-15" ng-if="task.status === 'Promoted'">
      <div class="alert alert-warning">Task has been promoted. No further changes allowed.</div>
    </div>
    <div style="padding: 15px; width: 100%" class="classification-btn">
      <button
        class="btn btn-default green classify"
        ng-click="classify()"
        ng-disabled="task.status === 'New' || task.status === 'Promoted' || classificationRunning">
        <span class="md md-notifications green darken-1 iconbase"></span>
        <span class="button-link">Classify</span>
      </button>
      <button ng-if="editable !== 'false'"
              class="btn btn-default deep-purple validate"
              ng-disabled="task.status === 'New' || task.status === 'Promoted' || validationRunning"
              ng-click="startValidation()" style="text-transform: none">
        <span class="md md-school deep-purple darken-2 iconbase"></span>
        <span class="button-link">Validate</span>
      </button>

      <button ng-disabled="task.status !== 'In Progress' || role === 'REVIEWER'"
              class="btn btn-default pink1 review" style="text-transform: none"
              ng-click="submitForReview()">
        <span class="md md-forum pink darken-2 iconbase"></span>
        <span class="button-link">Submit For Review</span>
      </button>


      <button ng-if="editable !== 'false'"
              ng-disabled="task.status === 'New' || task.status === 'In Review' || task.status === 'Promoted' || role === 'REVIEWER'"
              class="btn btn-default blue darken-1 promote"
              ng-click="promote()" style="text-transform: none">
        <span class="md md-call-merge blue darken-2 iconbase"></span>
        <span class="button-link">Promote This Task to the Project</span>
      </button>
    </div>
  </div>
</div>
